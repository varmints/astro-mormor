---

---

<div id="trailer">
	<i id="trailer-icon" class=""></i>
</div>

<script>
	const trailer = document.getElementById('trailer') as HTMLElement

	const animateTrailer = (e, interacting) => {
		const x = e.clientX - trailer.offsetWidth / 2 + 20,
			y = e.clientY - trailer.offsetHeight / 2 + 20

		trailer.style.transform = `translate(${x}px, ${y}px)`

		const keyframes = {
			transform: `translate(${x}px, ${y}px) scale(${interacting ? 8 : 1})`
		}

		trailer.animate(keyframes, {
			duration: 800,
			fill: 'forwards'
		})
	}

	const getTrailerClass = (type) => {
		switch (type) {
			case 'video':
				return ''
			default:
				return ''
		}
	}

	window.onmousemove = (e) => {
		console.log('e.clientX')
		const interactable = e.target.closest('.interactable'),
			interacting = interactable !== null

		const icon = document.getElementById('trailer-icon')

		animateTrailer(e, interacting)

		trailer.dataset.type = interacting ? interactable.dataset.type : ''

		if (interacting) {
			icon.className = getTrailerClass(interactable.dataset.type)
		}
	}
</script>
